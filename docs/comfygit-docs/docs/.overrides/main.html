{% extends "base.html" %}

{% block htmltitle %}
{% if page.meta and page.meta.title %}
<title>{{ page.meta.title }} | {{ config.site_name }}</title>
{% elif page.title and not page.is_homepage %}
<title>{{ page.title | striptags }} | {{ config.site_name }}</title>
{% else %}
<title>{{ config.site_name }} - Package and environment manager for ComfyUI</title>
{% endif %}
{% endblock %}

{% block extrahead %}
<!-- Favicons -->
<link rel="icon" type="image/png" sizes="32x32" href="{{ config.site_url }}assets/comfy_env_manager-min.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="{{ config.site_url }}assets/comfy_env_manager-min.png"/>

<!-- SEO Meta Tags -->
<meta name="description" content="{{ config.site_description }}"/>
<meta name="robots" content="index,follow"/>
<meta name="author" content="ComfyDock Team"/>
<meta name="keywords" content="ComfyUI, environment manager, package manager, AI, image generation, workflow, docker, python"/>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website"/>
<meta property="og:url" content="{{ page.canonical_url }}"/>
<meta property="og:title" content="{% if page.title and not page.is_homepage %}{{ page.title | striptags }} | {% endif %}{{ config.site_name }}"/>
<meta property="og:description" content="{{ config.site_description }}"/>
<meta property="og:image" content="{{ config.site_url }}assets/comfy_env_manager-min.png"/>
<meta property="og:site_name" content="{{ config.site_name }}"/>

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:url" content="{{ page.canonical_url }}"/>
<meta name="twitter:title" content="{% if page.title and not page.is_homepage %}{{ page.title | striptags }} | {% endif %}{{ config.site_name }}"/>
<meta name="twitter:description" content="{{ config.site_description }}"/>
<meta name="twitter:image" content="{{ config.site_url }}assets/comfy_env_manager-min.png"/>

<!-- Schema.org Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{{ config.site_name }}",
  "url": "{{ config.site_url }}",
  "description": "{{ config.site_description }}",
  {% if page and page.meta.git_revision_date_localized_raw_iso_datetime %}
  "datePublished": "{{ page.meta.git_revision_date_localized_raw_iso_datetime }}Z",
  "dateModified": "{{ page.meta.git_revision_date_localized_raw_iso_datetime }}Z",
  {% endif %}
  "publisher": {
    "@type": "Organization",
    "name": "ComfyDock",
    "url": "{{ config.site_url }}"
  }
}
</script>

<!-- Additional Schema for Documentation -->
{% if page.title and not page.is_homepage %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "{{ page.title | striptags }}",
  "description": "{{ config.site_description }}",
  "url": "{{ page.canonical_url }}",
  {% if page.meta.git_revision_date_localized_raw_iso_datetime %}
  "datePublished": "{{ page.meta.git_revision_date_localized_raw_iso_datetime }}Z",
  "dateModified": "{{ page.meta.git_revision_date_localized_raw_iso_datetime }}Z",
  {% endif %}
  "author": {
    "@type": "Organization",
    "name": "ComfyDock Team"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ComfyDock"
  }
}
</script>
{% endif %}

<!-- Canonical URL -->
<link rel="canonical" href="{{ page.canonical_url }}"/>

<!-- Theme Color -->
<meta name="theme-color" content="#0a0e27" media="(prefers-color-scheme: dark)"/>
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"/>
{% endblock %}
